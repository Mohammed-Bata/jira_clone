
@if(loading()){
    <h3>loading project</h3>
}@else{
   <div class="project">

        <div class="space">
            <h3>
                {{project()?.id}}-{{project()?.name}}
            </h3>
            <button (click)="openModel()">
                <svg fill="none" viewBox="0 0 16 16" role="presentation" class="team"><path fill="currentcolor" fill-rule="evenodd" d="M4 2.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3M1 4a3 3 0 1 1 6 0 3 3 0 0 1-6 0m11-1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3M9 4a3 3 0 1 1 6 0 3 3 0 0 1-6 0M3.75 9.5a2.25 2.25 0 0 0-2.25 2.25V13a.5.5 0 0 0 .5.5h4V15H2a2 2 0 0 1-2-2v-1.25A3.75 3.75 0 0 1 3.75 8h1.149a3.75 3.75 0 0 1 3.524 2.469l.564 1.55A2.25 2.25 0 0 0 11.1 13.5H14a.5.5 0 0 0 .5-.5v-1.25a2.25 2.25 0 0 0-2.25-2.25H12c-.775 0-1.258.06-1.531.112-.137.026-.22.05-.26.062l-.027.01.007-.003.01-.004.005-.003.003-.002h.002c.001-.001.001-.001-.334-.672l-.335-.671h.001l.002-.002.004-.001.008-.004.018-.008a1 1 0 0 1 .174-.066q.156-.053.44-.11C10.572 8.065 11.15 8 12 8h.25A3.75 3.75 0 0 1 16 11.75V13a2 2 0 0 1-2 2h-2.899a3.75 3.75 0 0 1-3.524-2.469l-.564-1.55A2.25 2.25 0 0 0 4.9 9.5z" clip-rule="evenodd"></path></svg>
            </button>
        </div>
       
            <div class="columns-wrapper">
                <section class="columns" cdkDropList [cdkDropListData]="project()!.columns" cdkDropListOrientation="horizontal" (cdkDropListDropped)="onColumnDropped($event)">
                       @for(column of project()!.columns; track column.id){
                           <app-column [column]="column" (columnDeleted)="handlecolumndelete($event)" cdkDrag [connectedTo]="allColumnIds"></app-column>
                        }
                   
                    @if(!create){
                     <button class="create" (click)="opencreate()">
                        <svg fill="none" viewBox="0 0 16 16" role="presentation" class="plus"><path fill="currentcolor" fill-rule="evenodd" d="M7.25 8.75V15h1.5V8.75H15v-1.5H8.75V1h-1.5v6.25H1v1.5z" clip-rule="evenodd"></path></svg>
                    </button>
                    }@else{
                        <app-createcolumn [projectId]="project()!.id" (columncreated)="onColumnCreated($event)"></app-createcolumn>
                    }
                </section>
               
            </div>            
    </div>

    
<ng-template cdkPortal>
    <app-invitation [projectId]="project()!.id"></app-invitation>
</ng-template>
}



